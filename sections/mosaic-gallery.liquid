{% style%}
.mosaic-gallery {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(4, 150px); /* Fixed height for each row */
  gap: {{ section.settings.grid_gap }}px;
}
.mosaic-gallery .grid-item {
  position: relative;
  overflow: hidden;
  width: 100%;
}
.grid-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
/* Specific layout */
.grid-item-1 { grid-column: 1 / 3; grid-row: 1 / 3; }
.grid-item-2 { grid-column: 3 / 5; grid-row: 1 / 2; }
.grid-item-3 { grid-column: 3 / 5; grid-row: 2 / 3; }
.grid-item-4 { grid-column: 1 / 3; grid-row: 3 / 4; }
.grid-item-5 { grid-column: 3 / 4; grid-row: 3 / 4; }
.grid-item-6 { grid-column: 4 / 5; grid-row: 3 / 4; }
.grid-item-7 { grid-column: 1 / 3; grid-row: 4 / 5; }
.grid-item-8 { grid-column: 3 / 5; grid-row: 4 / 5; }
{% endstyle %}

<div class="mosaic-gallery">
    <div class="page-width">
        {% for block in section.blocks %}
            <div class="grid-item grid-item-{{ forloop.index }}">
            {% if block.settings.image != blank %}
                <img src="{{ block.settings.image | image_url: width: 800 }}" alt="Grid Image {{ forloop.index }}">
            {% else %}
                <div style="background:#ddd; width:100%; height:100%; display:flex; align-items:center; justify-content:center;">
                <span style="color:#555;">Placeholder</span>
                </div>
            {% endif %}
            </div>
        {% endfor %}
    </div>
</div>
{% schema %}
{
  "name": "Mosaic Gallery",
  "settings": [
    {
      "type": "number",
      "id": "grid_gap",
      "label": "Gap between images (px)",
      "default": 10
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Upload Image"
        }
      ]
    }
  ],
  "max_blocks": 8,
  "presets": [
    {
      "name": "Mosaic Gallery"
    }
  ]
}
{% endschema %}