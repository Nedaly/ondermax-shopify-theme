<div class="Product_image_text_column_main_new" style="background: {{ section.settings.bg_color }};">
  <div class="page-width">
    <div class="Product_image_text_column_inner_new">

      <div class="Product_image_text_column_maintitle_new">
        <div class="Common_title_new Product_image_text_column_innertitle_new">
          <h2>{{ section.settings.heading }}</h2>
        </div>
      </div>

      <div class="Product_image_text_column_mainloop_new">
        <div class="Product_image_text_column_innerloop_new">

          {% for block in section.blocks %}
            <div class="Product_image_text_column_innerloop_mainboxs_new" {{ block.shopify_attributes }}>
              <div class="Product_image_text_column_innerloop_innerboxs_new">
                <div class="Product_image_text_column_innerloop_innerboxs_mainboths_new">
                  <div class="Product_image_text_column_innerloop_innerboxs_innerboths_new">
                    <div class="Product_image_text_column_innerloop_innerboxs_innerboths_videoimage_new">

                      {% if block.settings.video != blank %}
                        <video
                          playsinline
                          {% if block.settings.autoplay %}autoplay{% endif %}
                          {% if block.settings.loop %}loop{% endif %}
                          {% if block.settings.muted %}muted{% endif %}
                          preload="metadata"
                          poster="{{ block.settings.poster | image_url }}"
                          class="js-exclude"
                        >
                          <source src="{{ block.settings.video }}" type="video/mp4">
                          {% if block.settings.poster %}
                            <img src="{{ block.settings.poster | image_url }}">
                          {% endif %}
                        </video>

                      {% elsif block.settings.image != blank %}
                        <img
                          src="{{ block.settings.image | image_url: width: 1200 }}"
                          loading="lazy"
                        >
                      {% endif %}

                    </div>
                  </div>
                </div>

                <div class="Product_image_text_column_innerloop_innerboxs_maininfos_new">
                  <div class="Product_image_text_column_innerloop_innerboxs_innerinfos_new">
                    <p>{{ block.settings.text }}</p>
                  </div>
                </div>

              </div>
            </div>
          {% endfor %}

        </div>
      </div>

    </div>
  </div>
</div>
{% schema %}
{
  "name": "Product Text Steps",
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Section heading",
      "default": "How to Enjoy"
    }
  ],
  "blocks": [
    {
      "type": "step",
      "name": "Step",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Step text",
          "default": "Step title goes here"
        },
        {
          "type": "url",
          "id": "video",
          "label": "Video MP4 URL (optional)"
        },
        {
          "type": "image_picker",
          "id": "poster",
          "label": "Video poster image"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image (used if no video)"
        },
        {
          "type": "checkbox",
          "id": "autoplay",
          "label": "Autoplay video",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "loop",
          "label": "Loop video",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "muted",
          "label": "Muted video",
          "default": true
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "How to Enjoy (Steps)",
      "blocks": [
        { "type": "step" },
        { "type": "step" },
        { "type": "step" }
      ]
    }
  ]
}
{% endschema %}
